## 配置管理

### **能介绍:**  
配置信息的增删改查  

### **接口介绍:**  
配置管理功能有4个接口  
创建配置接口  
删除配置接口  
修改配置接口  
查询配置列表接口  

## 创建配置接口

`英文名：`

createConfig

`解释：`

接收前端的数据存入本地存储。

`接口类型：`

```
POST
/api/v1/createConfig
Content-Type:application/json
```

`请求body` Frontend逻辑

```json
{
  "name": "my config 1",
  "typ": "Frontend",
  "conf": {
    "frontendPort": 8888
  }
}
```

`请求body` Backend逻辑

```json
{
  "name": "my config 1",
  "typ": "Backend",
  "conf": {
    "backendPort": 12345
  }
}
```

`请求body` Alert逻辑

```json
{
  "name": "my config 1",
  "typ": "Alert",
  "conf": {
    "alertType": "mail",
    "alert": {
      //TODO 后面再写
    }
  }
}
```

`请求body` Master逻辑

```json
{
  "name": "my config 1",
  "typ": "Master",
  "conf": {
    "masterMem": 1
  }
}
```

`请求body` Worker逻辑

```json
{
  "name": "my config 1",
  "typ": "Worker",
  "conf": {
    "workerMem": 1
  }
}
```

`请求body` Database逻辑

```json
{
  "name": "my config 1",
  "typ": "Database",
  "conf": {
    "databaseType": "mysql",
    "dbName": "easy",
    "account": "easy",
    "password": "easy"
  }
}
```

`请求字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
frontendPort|int|true||前端端口
backendPort|int|true||后端端口
alertType|string|true||告警类型，小写，取值范围【mail，weixin】
alert||||
masterMem|int|true||master内存
workerMem|int|true||worker内存
databaseType|string|true||数据库类型，小写，取值范围【mysql，postgresql】
dbName|string|true||数据库名，建议使用 dolphinscheduler
account|stirng|true||数据库帐号
password|string|true||数据库密码

`响应body` 成功逻辑

```json
{
  "code": 200,
  "message": "ok",
  "result": null
}
```

`响应body` 失败逻辑

```json
{
  "code": 500,
  "message": "创建配置失败！{失败内容}",
  "result": null
}
```

`响应字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
无||||

## 删除配置接口

`英文名：`

deleteConfig

`解释：`

删除配置

`接口类型：`

```
POST
/api/v1/deleteHost
Content-Type:application/json
```

`请求body`

```json
{
  "typ": "Database",
  "id": 12123
}
```

`请求字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
typ|string|true||配置类型，小写，取值范围【frontend，backend，alert，master，worker，database】
id|int|true||配置id

`响应body` 成功逻辑

```json
{
  "code": 200,
  "message": "ok",
  "result": null
}
```

`响应body` 失败逻辑

```json
{
  "code": 500,
  "message": "删除配置失败！{失败内容}",
  "result": null
}
```

`响应字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
无||||

## 修改配置接口

`英文名：`

updateConfig

`解释：`

修改配置

`接口类型：`

```
POST
/api/v1/updateConfig
Content-Type:application/json
```

`请求body` Frontend逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Frontend",
  "conf": {
    "frontendPort": 8888
  }
}
```

`请求body` Backend逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Backend",
  "conf": {
    "backendPort": 12345
  }
}
```

`请求body` Alert逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Alert",
  "conf": {
    "alertType": "mail",
    "alert": {
      //TODO 后面再写
    }
  }
}
```

`请求body` Master逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Master",
  "conf": {
    "masterMem": 1
  }
}
```

`请求body` Worker逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Worker",
  "conf": {
    "workerMem": 1
  }
}
```

`请求body` Database逻辑

```json
{
  "id": 123123,
  "name": "my config 1",
  "typ": "Database",
  "conf": {
    "databaseType": "mysql",
    "dbName": "easy",
    "account": "easy",
    "password": "easy"
  }
}
```

`请求字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
id|int|true||配置id
frontendPort|int|true||前端端口
backendPort|int|true||后端端口
alertType|string|true||告警类型，小写，取值范围【mail，weixin】
alert||||
masterMem|int|true||master内存
workerMem|int|true||worker内存
databaseType|string|true||数据库类型，小写，取值范围【mysql，postgresql】
dbName|string|true||数据库名，建议使用 dolphinscheduler
account|stirng|true||数据库帐号
password|string|true||数据库密码


`响应body` 成功逻辑

```json
{
  "code": 200,
  "message": "ok",
  "result": null
}
```

`响应body` 失败逻辑

```json
{
  "code": 500,
  "message": "修改配置错误！{错误信息}",
  "result": null
}
```

`响应字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
无||||

## 查询配置列表接口

`英文名：`

selectConfigList

`解释：`

查询配置信息，分页返回

`接口类型：`

```
GET
/api/v1/selectConfigList
```

`请求body`

```
http://0.0.0.0:15523/api/v1/selectConfigList?typ=master&page=1
```

`请求字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---
typ|string|true||配置类型，小写，取值范围【frontend，backend，alert，master，worker，database】
page|int|true||分页


`响应body` 成功逻辑

```json
{
  "code": 200,
  "message": "ok",
  "result": {
    //TODO 后面在写
  }
}
```

`响应body` 失败逻辑

```json
{
  "code": 500,
  "message": "查询配置列表错误！{错误信息}",
  "result": null
}
```

`响应字段解释`

字段名|字段类型|是否必填|默认值|字段解释
--- | --- | --- | --- | ---